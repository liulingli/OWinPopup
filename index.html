<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>弹出框插件</title>
<link rel="stylesheet" href="css/jquery.winPopup.css"/>
</head>

<body>
 <a href="javascript:void(0);" class='button' style="position:absolute;">弹出窗口</a>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="js/OWinPopup.js"></script>
<script>
$(function(){
	 
     $(".button").on("click",function(){
	    $(window.top.document).creatWinPopup({
			title:"XX查询",
			width:450,
			height:250,
			configParam:{ //附在请求地址后面的参数，为json格式
				'ddd':'dddd',
				'aaa':'ssss'
			},
			isDrag:false,
			url:"ceshi.html?ss=ss",
			footBtn:"type3",
			isEnterSure:true, //点击enter键默认点击确认按钮
			openFun:function($topIframe,$winPopupIframe,IframeID){ //弹出层加载完成执行的函数
				//console.log("open");
				/*console.log($winPopupIframe)
				$("input",$winPopupIframe).val("tiantian")*/
			},
			colseFun:function($topIframe,$winPopupIframe,IframeID){
				console.log("close")
				//获取弹出层iframe内的元素 $(target,$winPopupIframe)
				//console.log($("div",$winPopupIframe).text())				
				//console.log(IframeID) //获取弹出层iframe的id
				//调用弹出层内的方法
				//window.top.document.getElementById(IframeID).contentWindow.xxxx()
				//当return false时不关闭弹出层，其他默认关闭
				//return false;
			},
			sureFun:function($topIframe,$winPopupIframe,IframeID){
				console.log(IframeID)
				//当return false时不关闭弹出层，其他默认关闭
			}
		});

	}) 
})
</script>
</body>
</html>
